var link=document.querySelector(".feedback-btn"),popup=document.querySelector(".modal-feedback"),close=document.querySelector(".modal-close"),nameInput=popup.querySelector("[name=name]"),email=popup.querySelector("[name=email-feedback]"),text=popup.querySelector("[name=feedback-text]"),form=popup.querySelector("form"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("nameInput"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storageName?(nameInput.value=storageName,email.focus(),storageEmail&&(email.value=storageEmail,text.focus())):nameInput.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){nameInput.value&&email.value&&text.value?isStorageSupport&&(localStorage.setItem("nameInput",nameInput.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")))});var button1=document.querySelector(".slide-btn-1"),button2=document.querySelector(".slide-btn-2"),button3=document.querySelector(".slide-btn-3"),bgImage=document.querySelector(".container"),bgColor=document.querySelector(".index");text=document.querySelectorAll(".slider-list-item");button1.addEventListener("click",function(e){e.preventDefault(),bgColor.classList.remove("index-slide-2"),bgColor.classList.remove("index-slide-3"),bgColor.classList.add("index-slide-1"),bgImage.classList.remove("container-slide-2"),bgImage.classList.remove("container-slide-3"),bgImage.classList.add("container-slide-1"),text[0].classList.remove("visually-hidden"),text[1].classList.add("visually-hidden"),text[2].classList.add("visually-hidden"),button1.classList.add("slider-item-current"),button2.classList.remove("slider-item-current"),button3.classList.remove("slider-item-current")}),button2.addEventListener("click",function(e){e.preventDefault(),bgColor.classList.remove("index-slide-1"),bgColor.classList.remove("index-slide-3"),bgColor.classList.add("index-slide-2"),bgImage.classList.remove("container-slide-1"),bgImage.classList.remove("container-slide-3"),bgImage.classList.add("container-slide-2"),text[0].classList.add("visually-hidden"),text[1].classList.remove("visually-hidden"),text[2].classList.add("visually-hidden"),button1.classList.remove("slider-item-current"),button2.classList.add("slider-item-current"),button3.classList.remove("slider-item-current")}),button3.addEventListener("click",function(e){e.preventDefault(),bgColor.classList.remove("index-slide-1"),bgColor.classList.remove("index-slide-2"),bgColor.classList.add("index-slide-3"),bgImage.classList.remove("container-slide-1"),bgImage.classList.remove("container-slide-2"),bgImage.classList.add("container-slide-3"),text[0].classList.add("visually-hidden"),text[1].classList.add("visually-hidden"),text[2].classList.remove("visually-hidden"),button1.classList.remove("slider-item-current"),button2.classList.remove("slider-item-current"),button3.classList.add("slider-item-current")});